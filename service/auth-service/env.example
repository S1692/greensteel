# Auth Service 환경 변수 설정 (DDD Architecture)
# 이 파일을 .env로 복사하여 사용하세요

# 서비스 기본 설정
SERVICE_NAME=greensteel-auth-service
SERVICE_VERSION=3.0.0
LOG_LEVEL=INFO

# 서비스 포트 설정
PORT=8081
HOST=0.0.0.0

# 데이터베이스 설정
DATABASE_URL=postgresql://username:password@localhost:5432/greensteel_auth
DATABASE_SSL_MODE=require

# JWT 설정
JWT_SECRET=your_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# CORS 설정 (Railway 배포용)
# Railway 환경변수 CORS_URL로 자동 덮어쓰기됨
ALLOWED_ORIGINS=https://lca-final.vercel.app,https://gateway-production-22ef.up.railway.app
ALLOWED_ORIGIN_REGEX=^https://.*\.vercel\.app$|^https://.*\.up\.railway\.app$

# 보안 설정
SECRET_KEY=your_secret_key_here
PASSWORD_SALT_ROUNDS=12
MAX_LOGIN_ATTEMPTS=5
LOGIN_LOCKOUT_DURATION=300  # 5분


# 로깅 설정
LOG_FORMAT=json
LOG_FILE=auth_service.log
LOG_LEVEL=INFO

# 모니터링 설정
ENABLE_METRICS=true
METRICS_PORT=9091
HEALTH_CHECK_INTERVAL=30

# 개발 환경 설정
DEBUG=false
RELOAD=false
ENVIRONMENT=production

# 외부 서비스 연동 (Railway 배포용)
# Railway 환경변수 GATEWAY_URL로 자동 덮어쓰기됨
GATEWAY_URL=https://gateway-production-22ef.up.railway.app
REDIS_URL=redis://localhost:6379

# 이메일 설정 (선택사항)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
ENABLE_EMAIL_VERIFICATION=false

# 파일 업로드 설정
MAX_FILE_SIZE=10485760  # 10MB
ALLOWED_FILE_TYPES=image/jpeg,image/png,application/pdf,text/csv

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15분
RATE_LIMIT_MAX_REQUESTS=100

# DDD 도메인 설정
DOMAIN_EVENTS_ENABLED=true
AGGREGATE_SNAPSHOT_INTERVAL=50
EVENT_STORE_TYPE=postgresql

# ===========================================
# Railway 환경변수 (자동 설정됨)
# ===========================================
# Railway에서 다음 환경변수들이 자동으로 설정됩니다:
# RAILWAY_ENVIRONMENT=production
# RAILWAY_PROJECT_ID=your-project-id
# DATABASE_URL=postgresql://user:pass@host:port/db
# CORS_URL=https://lca-final.vercel.app,https://gateway-production-22ef.up.railway.app
# GATEWAY_URL=https://gateway-production-22ef.up.railway.app
# PORT=자동할당
# JWT_SECRET=자동생성
# SECRET_KEY=자동생성
