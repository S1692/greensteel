(()=>{var e={};e.id=564,e.ids=[564],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},9191:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>c.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>p,tree:()=>o}),s(5430),s(4590),s(6637);var r=s(6323),a=s(8682),l=s(7783),c=s.n(l),n=s(9846),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);s.d(t,i);let o=["",{children:["(protected)",{children:["data-upload",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5430)),"C:\\Users\\sdhg\\Desktop\\greensteel-main\\greensteel-main\\frontend\\src\\app\\(protected)\\data-upload\\page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,4590,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6637)),"C:\\Users\\sdhg\\Desktop\\greensteel-main\\greensteel-main\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,4590,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\sdhg\\Desktop\\greensteel-main\\greensteel-main\\frontend\\src\\app\\(protected)\\data-upload\\page.tsx"],x="/(protected)/data-upload/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(protected)/data-upload/page",pathname:"/data-upload",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9673:(e,t,s)=>{Promise.resolve().then(s.bind(s,5683))},555:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(4410).Z)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},4180:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(4410).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9343:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(4410).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},5683:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(3020),a=s(7892),l=s(4608),c=s(2671),n=s(3924),i=s(4180),o=s(9343),d=s(555),x=s(4410);let m=(0,x.Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),p=(0,x.Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var u=s(2306),h=s(4493);let g=({tabs:e,activeTab:t,onTabChange:s,variant:a="default",className:l})=>{let c={default:"px-4 py-2 rounded-lg transition-colors duration-200",underline:"px-4 py-4 border-b-2 transition-colors duration-200"},n={default:"bg-ecotrace-primary text-white",underline:"border-ecotrace-accent text-ecotrace-text"},i={default:"text-ecotrace-textSecondary hover:text-ecotrace-text hover:bg-ecotrace-surface",underline:"border-transparent text-ecotrace-textSecondary hover:text-ecotrace-text"};return(0,r.jsxs)("div",{className:(0,h.cn)("w-full",l),children:[r.jsx("div",{className:"flex border-b border-ecotrace-border",children:e.map(e=>r.jsx("button",{onClick:()=>s(e.id),className:(0,h.cn)(c[a],t===e.id?n[a]:i[a],"focus:outline-none focus:ring-2 focus:ring-ecotrace-primary focus:ring-offset-2 focus:ring-offset-ecotrace-background"),role:"tab","aria-selected":t===e.id,"aria-controls":`panel-${e.id}`,children:e.label},e.id))}),e.map(e=>r.jsx("div",{id:`panel-${e.id}`,role:"tabpanel","aria-labelledby":`tab-${e.id}`,className:(0,h.cn)("mt-4",t===e.id?"block":"hidden"),children:e.content},e.id))]})},b=()=>{let[e,t]=(0,a.useState)(1),[s,x]=(0,a.useState)("standard"),[b,y]=(0,a.useState)({standard:{rows:[],columns:[]},actual:{rows:[],columns:[]},classification:{rows:[],columns:[]},transport:{rows:[],columns:[]},process:{rows:[],columns:[]}}),[f,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)(null),w=(0,a.useRef)({standard:null,actual:null,classification:null,transport:null,process:null}),k=[{id:"standard",label:"기준정보",subtitle:"(기준 정보)",templateUrl:"/api/templates?type=standard"},{id:"actual",label:"실적정보",subtitle:"(실적 데이터)",templateUrl:"/api/templates?type=actual"},{id:"classification",label:"데이터분류",subtitle:"(분류 데이터)",templateUrl:"/api/templates?type=classification"},{id:"transport",label:"운송정보",subtitle:"(운송 데이터)",templateUrl:"/api/templates?type=transport"},{id:"process",label:"공정정보",subtitle:"(공정 데이터)",templateUrl:"/api/templates?type=process"}],q=async(e,t)=>{j(!0);try{let s=await (0,h.gY)(e),r=(0,h.wu)(s.headers);y(a=>({...a,[t]:{rows:s.rows,columns:r,fileName:e.name}})),N({message:`${k.find(e=>e.id===t)?.label} 파일이 성공적으로 업로드되었습니다!`,type:"success"})}catch(e){console.error("파일 업로드 오류:",e),N({message:e instanceof Error?e.message:"파일 업로드 중 오류가 발생했습니다.",type:"error"})}finally{j(!1)}},C=(e,t)=>{let s=e.target.files?.[0];s&&q(s,t)},z=e=>{w.current[e]&&w.current[e]?.click()},P=e=>{let t=b[e];if(0===t.columns.length)return;let s={};t.columns.forEach(e=>{s[e.key]=""}),y(t=>({...t,[e]:{...t[e],rows:[...t[e].rows,s]}}))},S=(e,t)=>{y(s=>({...s,[e]:{...s[e],rows:s[e].rows.filter((e,s)=>s!==t)}}))},_=(e,t,s,r)=>{y(a=>({...a,[e]:{...a[e],rows:a[e].rows.map((e,a)=>a===t?{...e,[s]:r}:e)}}))},M=e=>{if(0===b[e].rows.length){N({message:"저장할 데이터가 없습니다.",type:"error"});return}N({message:`${k.find(t=>t.id===e)?.label} 데이터가 저장되었습니다!`,type:"success"})},Z=e=>{if(0===b[e].rows.length){N({message:"확인할 데이터가 없습니다.",type:"error"});return}N({message:`${k.find(t=>t.id===e)?.label} 데이터 확인이 완료되었습니다!`,type:"success"})},$=e=>{let t=b[e],s=k.find(t=>t.id===e);return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s?.label}),r.jsx("p",{className:"text-sm text-gray-600",children:s?.subtitle})]}),t.fileName&&(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["파일: ",t.fileName," (",t.rows.length,"행)"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(u.zx,{asChild:!0,variant:"outline",size:"sm",className:"flex items-center space-x-2",children:(0,r.jsxs)("a",{href:s?.templateUrl,download:!0,children:[r.jsx(c.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"템플릿 다운로드"})]})}),(0,r.jsxs)(u.zx,{onClick:()=>z(e),variant:"outline",size:"sm",className:"flex items-center space-x-2",disabled:f,children:[r.jsx(n.Z,{className:"w-4 h-4"}),r.jsx("span",{children:f?"처리 중...":"파일 업로드"})]}),r.jsx("input",{ref:t=>{w.current[e]=t},type:"file",accept:".csv,.xlsx,.xls",onChange:t=>C(t,e),className:"hidden"})]}),t.rows.length>0&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"데이터 미리보기"}),(0,r.jsxs)(u.zx,{onClick:()=>P(e),size:"sm",className:"flex items-center space-x-2",children:[r.jsx(i.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"행 추가"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full bg-white rounded-lg border border-gray-200",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-50",children:[t.columns.map((e,t)=>r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200",children:e.header},t)),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"작업"})]})}),r.jsx("tbody",{children:t.rows.map((s,a)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[t.columns.map((t,l)=>r.jsx("td",{className:"px-3 py-2 border-b border-gray-200",children:r.jsx(u.II,{value:s[t.key]||"",onChange:s=>_(e,a,t.key,s.target.value),inputSize:"sm",className:"w-full"})},l)),r.jsx("td",{className:"px-3 py-2 border-b border-gray-200",children:r.jsx(u.zx,{onClick:()=>S(e,a),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:r.jsx(o.Z,{className:"w-4 h-4"})})})]},a))})]})}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-3",children:[r.jsx(u.zx,{onClick:()=>M(e),disabled:0===t.rows.length,variant:"outline",size:"sm",children:"저장"}),r.jsx(u.zx,{onClick:()=>Z(e),disabled:0===t.rows.length,size:"sm",children:"확인"})]})]}),0===t.rows.length&&(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx(n.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 mb-2",children:"파일을 업로드하여 데이터를 시작하세요"}),r.jsx("p",{className:"text-sm text-gray-400",children:"CSV, Excel 파일을 지원합니다"})]})]})},U=()=>{let e=b.classification;return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"데이터분류"}),r.jsx("p",{className:"text-sm text-gray-600",children:"(분류 데이터)"})]}),e.fileName&&(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["파일: ",e.fileName," (",e.rows.length,"행)"]})]}),(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx(d.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 mb-2",children:"데이터분류는 읽기 전용입니다"}),r.jsx("p",{className:"text-sm text-gray-400",children:"업로드된 데이터를 분류 기준에 따라 조회할 수 있습니다"})]}),e.rows.length>0&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"분류 데이터"}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full bg-white rounded-lg border border-gray-200",children:[r.jsx("thead",{children:r.jsx("tr",{className:"bg-gray-50",children:e.columns.map((e,t)=>r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200",children:e.header},t))})}),r.jsx("tbody",{children:e.rows.map((t,s)=>r.jsx("tr",{className:"hover:bg-gray-50",children:e.columns.map((e,s)=>r.jsx("td",{className:"px-3 py-2 border-b border-gray-200 text-sm text-gray-900",children:t[e.key]||""},s))},s))})]})})]})]})},E=()=>$("transport"),A=()=>$("process"),V=e=>{switch(e){case"standard":case"actual":return $(e);case"classification":return U();case"transport":return E();case"process":return A();default:return null}};return(0,r.jsxs)(l.Z,{children:[(0,r.jsxs)("div",{className:"min-h-screen p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center",children:"데이터 업로드"}),r.jsx("p",{className:"text-gray-700 text-sm text-center max-w-2xl mx-auto",children:"각 탭에서 필요한 데이터를 업로드하고 관리합니다"})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-4",children:r.jsx(g,{tabs:k.map(e=>({id:e.id,label:e.label,content:V(e.id)})),activeTab:s,onTabChange:e=>x(e),variant:"underline"})})]}),v&&r.jsx("div",{className:`fixed bottom-6 right-6 p-4 rounded-xl shadow-2xl ${"success"===v.type?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:["success"===v.type?r.jsx(m,{className:"w-5 h-5"}):r.jsx(p,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:v.message})]})})]})}},2572:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(3020),a=s(7892),l=s.n(a),c=s(4493);let n=({items:e,value:t,onChange:s,variant:a="default",className:n})=>{let[i,o]=l().useState(e[0]?.key),d=void 0!==t?t:i,x=e=>{s?s(e):o(e)},m={default:{container:"flex space-x-1 bg-gray-100 rounded-lg p-1",tab:"px-3 py-2 text-sm font-medium rounded-md transition-colors",active:"bg-white text-gray-900 shadow-sm",inactive:"text-gray-600 hover:text-gray-900 hover:bg-gray-200"},underline:{container:"flex space-x-8 border-b border-gray-200",tab:"px-1 py-4 text-sm font-medium transition-colors",active:"border-b-2 border-blue-500 text-blue-600",inactive:"text-gray-500 hover:text-gray-700 hover:border-gray-300"},pills:{container:"flex space-x-2",tab:"px-4 py-2 text-sm font-medium rounded-full transition-colors",active:"bg-blue-600 text-white",inactive:"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}}[a];return r.jsx("div",{className:(0,c.cn)("w-full",n),children:r.jsx("div",{className:m.container,children:e.map(e=>r.jsx("button",{onClick:()=>x(e.key),className:(0,c.cn)(m.tab,d===e.key?m.active:m.inactive),children:e.label},e.key))})})}},2306:(e,t,s)=>{"use strict";s.d(t,{zx:()=>i,wQ:()=>c,II:()=>d});var r=s(3020),a=s(7892),l=s.n(a);let c=({columns:e,data:t,className:s="",striped:a=!0})=>r.jsx("div",{className:`overflow-x-auto ${s}`,children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsx("tr",{className:"border-b border-border/30",children:e.map(e=>r.jsx("th",{className:`py-2 font-medium text-${e.align||"left"}`,style:{width:e.width},children:e.label},e.key))})}),r.jsx("tbody",{children:t.map((t,s)=>r.jsx("tr",{className:`border-b border-border/20 ${a&&s%2==1?"bg-muted/30":""}`,children:e.map(e=>r.jsx("td",{className:`py-2 text-${e.align||"left"}`,children:t[e.key]},e.key))},s))})]})});var n=s(4493);let i=({variant:e="primary",size:t="md",loading:s=!1,asChild:a=!1,className:c,disabled:i,children:o,...d})=>{let x="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-ecotrace-background disabled:opacity-50 disabled:cursor-not-allowed",m={primary:"bg-ecotrace-primary text-white hover:bg-blue-600 focus:ring-ecotrace-primary",secondary:"bg-ecotrace-secondary text-white hover:bg-gray-700 focus:ring-ecotrace-secondary",outline:"border border-ecotrace-border bg-transparent text-ecotrace-text hover:bg-ecotrace-surface focus:ring-ecotrace-border",ghost:"bg-transparent text-ecotrace-text hover:bg-ecotrace-surface focus:ring-ecotrace-text"},p={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return a&&l().isValidElement(o)?l().cloneElement(o,{className:(0,n.cn)(x,m[e],p[t],c),disabled:i||s,...d}):(0,r.jsxs)("button",{className:(0,n.cn)(x,m[e],p[t],c),disabled:i||s,...d,children:[s&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]})},o=(0,a.forwardRef)(({label:e,error:t,helperText:s,leftIcon:a,rightIcon:l,inputSize:c="md",className:i,id:o,...d},x)=>{let m=o||`input-${Math.random().toString(36).substr(2,9)}`;return(0,r.jsxs)("div",{className:"w-full",children:[e&&r.jsx("label",{htmlFor:m,className:"block text-sm font-medium text-ecotrace-text mb-2",children:e}),(0,r.jsxs)("div",{className:"relative",children:[a&&r.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-ecotrace-textSecondary",children:a}),r.jsx("input",{ref:x,id:m,className:(0,n.cn)("w-full bg-ecotrace-surface border border-ecotrace-border rounded-lg text-ecotrace-text placeholder-ecotrace-textSecondary transition-colors duration-200",{sm:"px-3 py-2 text-sm",md:"px-4 py-3 text-base",lg:"px-6 py-4 text-lg"}[c],"focus:outline-none focus:ring-2 focus:ring-ecotrace-primary focus:border-ecotrace-primary","disabled:opacity-50 disabled:cursor-not-allowed",t&&"border-red-500 focus:ring-red-500 focus:border-red-500",a&&"pl-10",l&&"pr-10",i),...d}),l&&r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-ecotrace-textSecondary",children:l})]}),t&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:t}),s&&!t&&r.jsx("p",{className:"mt-1 text-sm text-ecotrace-textSecondary",children:s})]})});o.displayName="Input";let d=o;s(2572)},5430:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>c,__esModule:()=>l,default:()=>n});var r=s(7756);let a=(0,r.createProxy)(String.raw`C:\Users\sdhg\Desktop\greensteel-main\greensteel-main\frontend\src\app\(protected)\data-upload\page.tsx`),{__esModule:l,$$typeof:c}=a;a.default;let n=(0,r.createProxy)(String.raw`C:\Users\sdhg\Desktop\greensteel-main\greensteel-main\frontend\src\app\(protected)\data-upload\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[253,999,520,860,362,608],()=>s(9191));module.exports=r})();