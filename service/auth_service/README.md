# Auth Service - Layered Architecture

## Migration Notes

### π€ λ μ΄μ–΄λ“ μ•„ν‚¤ν…μ² λ¦¬ν©ν„°λ§ μ™„λ£ (v3.0.0)

**λ³€κ²½ μΌμ**: 2025-08-18  
**μ΄μ „ λ²„μ „**: v2.0.0 (Stream Architecture)  
**μƒλ΅μ΄ λ²„μ „**: v3.0.0 (Layered Architecture)

#### π“ μƒλ΅μ΄ ν΄λ” κµ¬μ΅°

```
app/
β”β”€β”€ www/                    # ν”„λ μ  ν…μ΄μ… κ³„μΈµ
β”‚   β”β”€β”€ deps.py            # μμ΅΄μ„± μ£Όμ…
β”‚   β”β”€β”€ errors.py          # μ—λ¬ ν•Έλ“¤λ§
β”‚   β”β”€β”€ responses.py       # ν‘μ¤€ μ‘λ‹µ λ¨λΈ
β”‚   β””β”€β”€ __init__.py
β”β”€β”€ domain/                 # λ„λ©”μΈ κ³„μΈµ
β”‚   β”β”€β”€ entities/          # ORM λ¨λΈ
β”‚   β”‚   β”β”€β”€ user.py
β”‚   β”‚   β”β”€β”€ company.py
β”‚   β”‚   β””β”€β”€ stream.py
β”‚   β”β”€β”€ schemas/           # Pydantic μ¤ν‚¤λ§
β”‚   β”β”€β”€ repositories/      # λ°μ΄ν„° μ ‘κ·Ό κ³„μΈµ
β”‚   β”β”€β”€ services/          # λΉ„μ¦λ‹μ¤ λ΅μ§
β”‚   β””β”€β”€ __init__.py
β”β”€β”€ router/                 # λΌμ°ν„° κ³„μΈµ
β”‚   β”β”€β”€ auth.py            # μΈμ¦ μ—”λ“ν¬μΈνΈ
β”‚   β”β”€β”€ stream.py          # μ¤νΈλ¦Ό μ—”λ“ν¬μΈνΈ
β”‚   β””β”€β”€ __init__.py
β”β”€β”€ common/                 # κ³µν†µ λ¨λ“
β”‚   β”β”€β”€ settings.py        # μ„¤μ • κ΄€λ¦¬
β”‚   β”β”€β”€ security.py        # λ³΄μ• μ ν‹Έ
β”‚   β”β”€β”€ permissions.py     # κ¶ν• κ΄€λ¦¬
β”‚   β”β”€β”€ db.py              # λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²°
β”‚   β”β”€β”€ logger.py          # λ΅κΉ… μ„¤μ •
β”‚   β””β”€β”€ __init__.py
β””β”€β”€ main.py                 # μ•± ν©ν† λ¦¬
```

#### π”„ μ£Όμ” λ³€κ²½μ‚¬ν•­

1. **λ μ΄μ–΄ λ¶„λ¦¬**: www, domain, router, common κ³„μΈµμΌλ΅ λ…ν™•ν• μ±…μ„ λ¶„λ¦¬
2. **μ•± ν©ν† λ¦¬ ν¨ν„΄**: `create_app()` ν•¨μλ΅ μ• ν”λ¦¬μΌ€μ΄μ… μƒμ„±
3. **μμ΅΄μ„± μ£Όμ…**: λ¦¬ν¬μ§€ν† λ¦¬μ™€ μ„λΉ„μ¤ λ μ΄μ–΄ κ°„ μμ΅΄μ„± μ£Όμ…
4. **ν‘μ¤€ μ‘λ‹µ**: μΌκ΄€λ μ—λ¬ ν•Έλ“¤λ§κ³Ό μ‘λ‹µ ν•μ‹
5. **μ λ€ κ²½λ΅ import**: `app.` μ ‘λ‘μ‚¬λ΅ λ…ν™•ν• λ¨λ“ μ°Έμ΅°

#### β… νΈν™μ„± μ μ§€

- λ¨λ“  κΈ°μ΅΄ μ—”λ“ν¬μΈνΈ κ²½λ΅ μ μ§€
- μ‘λ‹µ μ¤ν‚¤λ§ λ° μƒνƒμ½”λ“ λ³€κ²½ μ—†μ
- λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ λ³€κ²½ μ—†μ
- Docker λ° λ°°ν¬ μ¤ν¬λ¦½νΈ λ™μΌν•κ² λ™μ‘

#### π€ λ¶€νΈμ¤νΈλ©

```bash
# μμ΅΄μ„± μ„¤μΉ
pip install -r requirements.txt

# λ΅μ»¬ μ‹¤ν–‰
python main.py

# λλ” uvicornμΌλ΅ μ‹¤ν–‰
uvicorn main:app --host 0.0.0.0 --port 8081 --reload
```

---

# κΈ°μ΅΄ README λ‚΄μ©

## About

greensteel.vercel.app
