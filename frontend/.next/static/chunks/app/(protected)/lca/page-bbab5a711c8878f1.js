(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[686],{9873:function(e,s,a){Promise.resolve().then(a.bind(a,9358))},9358:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return h}});var l=a(3107),t=a(8396),r=a(6201),n=a(9899),d=e=>{let{activeTab:s,onTabChange:a,activeSegment:t,onSegmentChange:r}=e;return(0,l.jsxs)("div",{className:"w-full space-y-4",children:[(0,l.jsx)(n.Z,{items:[{key:"base",label:"기준데이터"},{key:"actual",label:"실적데이터"},{key:"manage",label:"데이터관리"},{key:"transport",label:"운송데이터"},{key:"process",label:"공정데이터"}],value:s,onChange:a,variant:"underline",className:"mb-6"}),"manage"===s&&t&&r&&(0,l.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"데이터 분류"}),(0,l.jsx)(n.Z,{items:[{key:"mat",label:"원료별"},{key:"util",label:"유틸리티별"},{key:"waste",label:"폐기물별"},{key:"source",label:"데이터 출처별"}],value:t,onChange:r,variant:"pills"})]})]})},i=a(348),c=a(2692),m=e=>{let{endpoint:s}=e,{data:a,status:r,error:n,refetch:d}=function(e){let[s,a]=(0,t.useState)([]),[l,r]=(0,t.useState)("idle"),[n,d]=(0,t.useState)(null),c=async()=>{if(e){r("loading"),d(null);try{let s=await (0,i.xA)(e);a(Array.isArray(s)?s:[]),r("success")}catch(e){d(e instanceof Error?e.message:"데이터를 불러오는 중 오류가 발생했습니다."),r("error"),a([])}}};return(0,t.useEffect)(()=>{c()},[e]),{data:s,status:l,error:n,refetch:()=>{c()}}}(s);if("loading"===r)return(0,l.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:(0,l.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,l.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded"},s))})]})});if("error"===r)return(0,l.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"text-red-600",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"오류 발생"}),(0,l.jsx)("p",{className:"text-sm text-red-700",children:n})]}),(0,l.jsx)("button",{onClick:d,className:"ml-auto text-sm text-red-600 hover:text-red-800 underline",children:"다시 시도"})]})});if("success"===r&&0===a.length)return(0,l.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-12 shadow-sm text-center",children:(0,l.jsxs)("div",{className:"text-gray-500",children:[(0,l.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,l.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"데이터가 없습니다"}),(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"현재 선택된 탭에 데이터가 없습니다."})]})});let m=a.length>0?Object.keys(a[0]).map(e=>({key:e,label:e,align:"left"})):[];return(0,l.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,l.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["데이터 테이블 (",a.length,"개 행, ",m.length,"개 컬럼)"]})}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsx)(c.wQ,{columns:m,data:a,className:"min-w-full"})})]})},x=e=>{let{activeTab:s,activeSegment:a}=e;if("manage"===s)return a?(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsx)(m,{endpoint:i.B0.manage(a)})}):null;let t=i.B0[s];return(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsx)(m,{endpoint:t})})},o=e=>{let{tab:s}=e;return(0,l.jsxs)("div",{className:"w-80 bg-white rounded-lg border border-gray-200 p-6 shadow-sm sticky top-20",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"안내"}),(0,l.jsx)("div",{className:"space-y-3",children:("manage"===s?["분류 기준에 따른 데이터 조회 화면입니다.","세부 수정은 별도 편집 페이지에서 수행하세요."]:["LCA 확인 화면입니다.","세부 수정은 별도 편집 페이지에서 수행하세요."]).map((e,s)=>(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsxs)("span",{className:"text-sm font-medium text-blue-600 mt-0.5",children:[s+1,"."]}),(0,l.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:e})]},s))})]})},h=()=>{let[e,s]=(0,t.useState)("base"),[a,n]=(0,t.useState)("mat");return(0,l.jsx)(r.Z,{children:(0,l.jsx)("div",{className:"w-full h-full p-4 lg:p-6 xl:p-8",children:(0,l.jsxs)("div",{className:"flex gap-4 lg:gap-6 xl:gap-8",children:[(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)(d,{activeTab:e,onTabChange:s,activeSegment:a,onSegmentChange:n}),(0,l.jsx)("div",{className:"mt-4 lg:mt-6 xl:mt-8",children:(0,l.jsx)(x,{activeTab:e,activeSegment:a})})]}),(0,l.jsx)("div",{className:"hidden xl:block",children:(0,l.jsx)(o,{tab:e})})]})})})}}},function(e){e.O(0,[974,348,637,309,691,744],function(){return e(e.s=9873)}),_N_E=e.O()}]);