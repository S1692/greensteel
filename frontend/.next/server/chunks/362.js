exports.id=362,exports.ids=[362],exports.modules={110:(e,r,a)=>{let t={"01bbb94767495031ed36a27c15be927efd758312":()=>Promise.resolve().then(a.bind(a,9517)).then(e=>e.updateProject),"33c957743bbaffdb936593717dc52afa98830904":()=>Promise.resolve().then(a.bind(a,9517)).then(e=>e.getLciData),"348b6854454abe052e9d2623ded510facfd0c4cf":()=>Promise.resolve().then(a.bind(a,9517)).then(e=>e.getLciaHistory),"35ad2ffa06109e023244c800a2eb36688815b4bd":()=>Promise.resolve().then(a.bind(a,9517)).then(e=>e.getProject),"4fda3851d68a1469d887b2c2f687463b2ad173a9":()=>Promise.resolve().then(a.bind(a,9517)).then(e=>e.requestReport),"702adfd65ddbfc89a1e2ff008b9d7b699bdd69b0":()=>Promise.resolve().then(a.bind(a,9517)).then(e=>e.validateDataQuality),"83ece2c34d896fa1434396ed585b96543937121c":()=>Promise.resolve().then(a.bind(a,9517)).then(e=>e.getReportStatus),"89f6aef2263597030f222ea29938ded96852c439":()=>Promise.resolve().then(a.bind(a,9517)).then(e=>e.uploadProcessDiagram),a8f3f78696c27685b43bee4a549621ecd64bf1a9:()=>Promise.resolve().then(a.bind(a,9517)).then(e=>e.saveScope),ae2909953c9843fcb7cf73cc9f635022b5921591:()=>Promise.resolve().then(a.bind(a,9517)).then(e=>e.createProject),beb0b53a2aa66dd4f741860cd52c619a94d0deea:()=>Promise.resolve().then(a.bind(a,9517)).then(e=>e.getLciaResults),d0ba8124b990a82ec6220e0f256bb7e3dd8a6adc:()=>Promise.resolve().then(a.bind(a,9517)).then(e=>e.saveLci),da731b40f5c8af63b81bd7654883619b946669e6:()=>Promise.resolve().then(a.bind(a,9517)).then(e=>e.startLciaRun),e5a2a6e1ea9ecff0ccfc4ca7d8db097247eace55:()=>Promise.resolve().then(a.bind(a,9517)).then(e=>e.validateLciData),f0dab76ad8b978edafa57f40f0614f434c266667:()=>Promise.resolve().then(a.bind(a,9517)).then(e=>e.getDataQualityReport)};async function c(e,...r){return(await t[e]()).apply(null,r)}e.exports={"01bbb94767495031ed36a27c15be927efd758312":c.bind(null,"01bbb94767495031ed36a27c15be927efd758312"),"33c957743bbaffdb936593717dc52afa98830904":c.bind(null,"33c957743bbaffdb936593717dc52afa98830904"),"348b6854454abe052e9d2623ded510facfd0c4cf":c.bind(null,"348b6854454abe052e9d2623ded510facfd0c4cf"),"35ad2ffa06109e023244c800a2eb36688815b4bd":c.bind(null,"35ad2ffa06109e023244c800a2eb36688815b4bd"),"4fda3851d68a1469d887b2c2f687463b2ad173a9":c.bind(null,"4fda3851d68a1469d887b2c2f687463b2ad173a9"),"702adfd65ddbfc89a1e2ff008b9d7b699bdd69b0":c.bind(null,"702adfd65ddbfc89a1e2ff008b9d7b699bdd69b0"),"83ece2c34d896fa1434396ed585b96543937121c":c.bind(null,"83ece2c34d896fa1434396ed585b96543937121c"),"89f6aef2263597030f222ea29938ded96852c439":c.bind(null,"89f6aef2263597030f222ea29938ded96852c439"),a8f3f78696c27685b43bee4a549621ecd64bf1a9:c.bind(null,"a8f3f78696c27685b43bee4a549621ecd64bf1a9"),ae2909953c9843fcb7cf73cc9f635022b5921591:c.bind(null,"ae2909953c9843fcb7cf73cc9f635022b5921591"),beb0b53a2aa66dd4f741860cd52c619a94d0deea:c.bind(null,"beb0b53a2aa66dd4f741860cd52c619a94d0deea"),d0ba8124b990a82ec6220e0f256bb7e3dd8a6adc:c.bind(null,"d0ba8124b990a82ec6220e0f256bb7e3dd8a6adc"),da731b40f5c8af63b81bd7654883619b946669e6:c.bind(null,"da731b40f5c8af63b81bd7654883619b946669e6"),e5a2a6e1ea9ecff0ccfc4ca7d8db097247eace55:c.bind(null,"e5a2a6e1ea9ecff0ccfc4ca7d8db097247eace55"),f0dab76ad8b978edafa57f40f0614f434c266667:c.bind(null,"f0dab76ad8b978edafa57f40f0614f434c266667")}},4493:(e,r,a)=>{"use strict";a.d(r,{B0:()=>i,cn:()=>o,wu:()=>s,Ez:()=>P,OB:()=>f,xA:()=>d,gY:()=>n});var t=a(5519),c=a(4370);function o(...e){return(0,c.m6)((0,t.W)(e))}async function n(e){return new Promise((r,a)=>{let t=new FileReader;t.onload=t=>{try{let c=t.target?.result;if(e.name.endsWith(".csv")){let e=function(e){let r=e.split("\n").filter(e=>e.trim());if(0===r.length)return{rows:[],headers:[]};let a=r[0].split(",").map(e=>e.trim()),t=a.map(e=>e.replace(/[^a-zA-Z0-9가-힣]/g,"_").replace(/^_+|_+$/g,""));return{rows:r.slice(1).map((e,r)=>{let a=e.split(",").map(e=>e.trim()),c={};return t.forEach((e,r)=>{c[e]=a[r]||""}),c}),headers:a}}(c);r(e)}else a(Error("현재 CSV 파일만 지원됩니다. XLSX 파일은 향후 지원 예정입니다."))}catch(e){a(Error("파일 파싱 중 오류가 발생했습니다."))}},t.onerror=()=>{a(Error("파일 읽기 중 오류가 발생했습니다."))},e.name.endsWith(".csv")?t.readAsText(e):a(Error("지원하지 않는 파일 형식입니다. CSV 파일을 사용해주세요."))})}function s(e){return e.map(e=>({key:e.replace(/[^a-zA-Z0-9가-힣]/g,"_").replace(/^_+|_+$/g,"").toLowerCase(),header:e}))}async function d(e){let r=process.env.NEXT_PUBLIC_API_BASE??"",a=`${r}${e}`,t=new AbortController,c=setTimeout(()=>t.abort(),1e4);try{let e=await fetch(a,{cache:"no-store",signal:t.signal,headers:{"Content-Type":"application/json"}});if(clearTimeout(c),!e.ok)throw Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){if(clearTimeout(c),e instanceof Error&&"AbortError"===e.name)throw Error("Request timeout");throw e}}let i={base:"/api/v1/lca/base",actual:"/api/v1/lca/actual",transport:"/api/v1/lca/transport",process:"/api/v1/lca/process",manage:e=>`/api/v1/lca/manage?segment=${e}`};a(7892);class l{static{this.memoryData=null}static measurePageLoad(){}static measureInteraction(e,r){performance.now(),r(),performance.now()}static measureMemoryUsage(){if("memory"in performance){let e=performance.memory,r=e.usedJSHeapSize/1048576,a=e.totalJSHeapSize/1048576,t=e.jsHeapSizeLimit/1048576;l.memoryData={used:Math.round(r),total:Math.round(a),limit:Math.round(t)}}}}let f={NEXT_PUBLIC_GATEWAY_URL:process.env.NEXT_PUBLIC_GATEWAY_URL||"https://your-gateway.railway.app",NEXT_PUBLIC_ENV:process.env.NEXT_PUBLIC_ENV||"development",NEXT_PUBLIC_APP_NAME:process.env.NEXT_PUBLIC_APP_NAME||"greensteel",NEXT_PUBLIC_APP_VERSION:process.env.NEXT_PUBLIC_APP_VERSION||"1.0.0",NEXT_PUBLIC_ENABLE_LCA:"true"===process.env.NEXT_PUBLIC_ENABLE_LCA,NEXT_PUBLIC_ENABLE_CBAM:"true"===process.env.NEXT_PUBLIC_ENABLE_CBAM,NEXT_PUBLIC_ENABLE_DATA_UPLOAD:"true"===process.env.NEXT_PUBLIC_ENABLE_DATA_UPLOAD};if(process.env.NEXT_PUBLIC_GATEWAY_URL)try{let e=new URL(f.NEXT_PUBLIC_GATEWAY_URL);"localhost"===e.hostname||"127.0.0.1"===e.hostname||e.hostname.includes("3000")}catch{}var b=a(849);let u=new Map,p=e=>{let{method:r,url:a,data:t,params:c}=e;return`${r?.toUpperCase()||"GET"}:${a}:${JSON.stringify(t||{})}:${JSON.stringify(c||{})}`},m=e=>{try{let r=new URL(e),a=new URL(f.NEXT_PUBLIC_GATEWAY_URL);return r.hostname===a.hostname}catch{return!1}},g=()=>{if("undefined"!=typeof document){let e=document.querySelector('meta[name="csrf-token"]');return e?.getAttribute("content")||null}return null},A=async(e,r,a=3)=>{try{return await e(r)}catch(t){if(a>0&&(t.response?.status&&t.response.status>=500||!t.response))return await new Promise(e=>setTimeout(e,1e3*(4-a))),A(e,r,a-1);throw t}},h=b.Z.create({baseURL:f.NEXT_PUBLIC_GATEWAY_URL,timeout:3e4,headers:{"Content-Type":"application/json"}});async function y(e){try{console.log("영문 주소 변환 시작:",e);let r=document.createElement("script"),a="jusoCallback_"+Date.now();return new Promise((t,c)=>{window[a]=o=>{try{if(console.log("API 응답 데이터:",o),"0"!==o.results.common.errorCode){c(Error(`주소 검색 API 에러: ${o.results.common.errorMessage}`));return}if(!o.results.juso||0===o.results.juso.length){console.warn("검색된 주소가 없습니다:",e),t(null);return}let r=o.results.juso[0];console.log("첫 번째 결과:",r);let a={roadAddr:r.roadAddr||"",jibunAddr:r.jibunAddr||"",engAddr:r.engAddr||"",zipNo:r.zipNo||"",siNm:r.siNm||"",sggNm:r.sggNm||"",emdNm:r.emdNm||"",rn:r.rn||"",buldMnnm:r.buldMnnm||"",buldSlno:r.buldSlno||""};console.log("API 응답에서 roadAddr:",r.roadAddr),console.log("API 응답에서 engAddr:",r.engAddr),console.log("변환된 주소:",a),t(a)}catch(e){c(e)}finally{delete window[a],document.head.removeChild(r)}},r.src=`https://business.juso.go.kr/addrlink/addrEngApiJsonp.do?currentPage=1&countPerPage=10&keyword=${encodeURIComponent(e)}&confmKey=${process.env.NEXT_PUBLIC_ADMINISTRATIVE_API_KEY}&resultType=json&callback=${a}`,r.onerror=()=>{c(Error("주소 검색 API 스크립트 로드 실패")),delete window[a]},document.head.appendChild(r),setTimeout(()=>{c(Error("주소 검색 API 타임아웃")),delete window[a],document.head.contains(r)&&document.head.removeChild(r)},1e4)})}catch(e){return console.error("주소 변환 중 오류 발생:",e),null}}async function P(e){try{console.log("주소 영문 변환 시작:",e);let r=e.fullAddress||`${e.cityName||""} ${e.roadAddress||""} ${e.buildingNumber||""}`.trim();if(!r)throw Error("검색할 주소 키워드가 없습니다.");console.log("전체 주소로 검색:",r);let a=await y(r);if(!a)return console.warn("영문 주소 변환 실패, 카카오 주소 그대로 사용"),{roadAddress:e.roadAddress||"",buildingNumber:e.buildingNumber||"",cityName:e.cityName||"",postalCode:e.postalCode||"",englishAddress:"",englishCity:"",englishRoad:"",fullAddress_en:""};console.log("영문 주소 원본 (roadAddr):",a.roadAddr);let t=function(e){try{console.log("영문 주소 파싱 시작:",e);let r=e.split(",").map(e=>e.trim());if(r.length<2)return console.warn("영문 주소 형식이 올바르지 않습니다:",e),{buildingNumber:"",road:"",city:""};let a=r[0],t=a.split(" "),c="",o="";t.length>=2?(c=t[0],o=t.slice(1).join(" ")):o=a;let n="";r.length>=3?n=r[r.length-1]:2===r.length&&(n=r[1]);let s={buildingNumber:c,road:o,city:n};return console.log("영문 주소 파싱 결과:",s),s}catch(e){return console.error("영문 주소 파싱 중 오류 발생:",e),{buildingNumber:"",road:"",city:""}}}(a.roadAddr);return console.log("영문 주소 파싱 결과:",t),{roadAddress:e.roadAddress||"",buildingNumber:e.buildingNumber||"",cityName:e.cityName||"",postalCode:a.zipNo||e.postalCode||"",englishAddress:a.roadAddr||"",englishCity:t.city||"",englishRoad:t.road||"",fullAddress_en:a.roadAddr||""}}catch(r){return console.error("주소 영문 변환 중 오류 발생:",r),{roadAddress:e.roadAddress||"",buildingNumber:e.buildingNumber||"",cityName:e.cityName||"",postalCode:e.postalCode||"",englishAddress:"",englishCity:"",englishRoad:"",fullAddress_en:""}}}h.interceptors.request.use(e=>{let r=p(e);if(u.has(r)){let e=u.get(r);e&&e.abort()}let a=new AbortController;if(e.signal=a.signal,u.set(r,a),e.url&&!m(e.baseURL+e.url))throw Error("Direct service access is not allowed. Use Gateway only.");let t=g();return t&&(e.headers["X-CSRF-Token"]=t),e},e=>Promise.reject(e)),h.interceptors.response.use(e=>{let r=p(e.config);return u.delete(r),e},async e=>{if(e.config){let r=p(e.config);u.delete(r)}if(e.response?.status>=500||!e.response){let r=e.config;if(r&&!r._retry)return r._retry=!0,A(h,r)}return e.response?.status,Promise.reject(e)}),a(6848);var N=a(1397);(0,N.$)("f0dab76ad8b978edafa57f40f0614f434c266667"),(0,N.$)("ae2909953c9843fcb7cf73cc9f635022b5921591"),(0,N.$)("35ad2ffa06109e023244c800a2eb36688815b4bd"),(0,N.$)("01bbb94767495031ed36a27c15be927efd758312"),(0,N.$)("a8f3f78696c27685b43bee4a549621ecd64bf1a9"),(0,N.$)("d0ba8124b990a82ec6220e0f256bb7e3dd8a6adc"),(0,N.$)("33c957743bbaffdb936593717dc52afa98830904"),(0,N.$)("e5a2a6e1ea9ecff0ccfc4ca7d8db097247eace55"),(0,N.$)("da731b40f5c8af63b81bd7654883619b946669e6"),(0,N.$)("beb0b53a2aa66dd4f741860cd52c619a94d0deea"),(0,N.$)("348b6854454abe052e9d2623ded510facfd0c4cf"),(0,N.$)("4fda3851d68a1469d887b2c2f687463b2ad173a9"),(0,N.$)("83ece2c34d896fa1434396ed585b96543937121c"),(0,N.$)("89f6aef2263597030f222ea29938ded96852c439"),(0,N.$)("702adfd65ddbfc89a1e2ff008b9d7b699bdd69b0")},9517:(e,r,a)=>{"use strict";a.r(r),a.d(r,{createProject:()=>s,getDataQualityReport:()=>N,getLciData:()=>b,getLciaHistory:()=>g,getLciaResults:()=>m,getProject:()=>d,getReportStatus:()=>h,requestReport:()=>A,saveLci:()=>f,saveScope:()=>l,startLciaRun:()=>p,updateProject:()=>i,uploadProcessDiagram:()=>y,validateDataQuality:()=>P,validateLciData:()=>u});var t=a(6018);a(2474);var c=a(9201);let o=process.env.API_GATEWAY_URL||"http://localhost:8080/api";async function n(e,r="POST",a){try{return await new Promise(e=>setTimeout(e,1e3)),console.log(`[API] ${r} ${o}${e}`,a),{success:!0,message:"Mock API call successful",data:{id:`mock-${Date.now()}`}}}catch(r){return console.error(`[API ERROR] ${e}:`,r),{success:!1,message:r instanceof Error?r.message:"Unknown API error"}}}async function s(e){return console.log("[ACTION] Creating new project:",e),await n("/projects","POST",e)}async function d(e){return console.log("[ACTION] Fetching project:",e),await n(`/projects/${e}`,"GET")}async function i(e,r){return console.log("[ACTION] Updating project:",e,r),await n(`/projects/${e}`,"PUT",r)}async function l(e,r){console.log("[ACTION] Saving scope for project:",e,r);let a={projectName:r.projectName,reason:r.reason,owner:r.owner,period:r.period,unit:r.unit,productName:r.productName,majorFunction:r.majorFunction,secondaryFunction:r.secondaryFunction,productClass:r.productClass,productFeatures:r.productFeatures,packaging:r.packaging},t={lifecycle:r.lifecycle,processOverview:r.processOverview,dataQuality:r.dataQuality,exclusions:r.exclusions,assumptions:r.assumptions,methodSet:r.methodSet,summary:r.summary},[c,o]=await Promise.all([n(`/projects/${e}/meta`,"PUT",a),n(`/projects/${e}/scope`,"PUT",t)]);return c.success&&o.success?{success:!0,message:"Scope and project metadata saved successfully"}:{success:!1,message:"Failed to save some data",error:`Project: ${c.message}, Scope: ${o.message}`}}async function f(e,r){return console.log("[ACTION] Saving LCI items for project:",e,r),await n(`/projects/${e}/lci`,"PUT",{items:r})}async function b(e){return console.log("[ACTION] Fetching LCI data for project:",e),await n(`/projects/${e}/lci`,"GET")}async function u(e){return console.log("[ACTION] Validating LCI data for project:",e),await n(`/projects/${e}/lci/validate`,"POST")}async function p(e,r){console.log("[ACTION] Starting LCIA run for project:",e,r);let a=await n(`/projects/${e}/lcia/run`,"POST",{methodSet:r.method,categories:r.categories,timestamp:new Date().toISOString()});return a.success?{success:!0,data:{runId:a.data?.runId||`run-${Date.now()}`},message:"LCIA calculation started"}:a}async function m(e,r){console.log("[ACTION] Fetching LCIA results for project:",e,r);let a=r?`/projects/${e}/lcia/results/${r}`:`/projects/${e}/lcia/results/latest`;return await n(a,"GET")}async function g(e){return console.log("[ACTION] Fetching LCIA run history for project:",e),await n(`/projects/${e}/lcia/history`,"GET")}async function A(e,r="pdf"){console.log("[ACTION] Generating report for project:",e,r);let a=await n(`/projects/${e}/report/generate`,"POST",{format:r,timestamp:new Date().toISOString(),includeCharts:!0,includeTables:!0});return a.success?{success:!0,reportUrl:a.data?.reportUrl||`/reports/${e}.${r}`,reportId:a.data?.reportId||`report-${Date.now()}`,message:"Report generated successfully"}:a}async function h(e){return console.log("[ACTION] Checking report status:",e),await n(`/reports/${e}/status`,"GET")}async function y(e,r){console.log("[ACTION] Uploading process diagram for project:",e,r.name);let a=new FormData;return a.append("file",r),a.append("projectId",e),a.append("type","process-diagram"),await n("/files/upload/process-diagram","POST",{fileName:r.name,fileSize:r.size,mimeType:r.type,projectId:e})}async function P(e){return console.log("[ACTION] Validating data quality for project:",e),await n(`/projects/${e}/quality/validate`,"POST")}async function N(e){return console.log("[ACTION] Getting data quality report for project:",e),await n(`/projects/${e}/quality/report`,"GET")}(0,c.ensureServerEntryExports)([s,d,i,l,f,b,u,p,m,g,A,h,y,P,N]),(0,t.registerServerReference)("ae2909953c9843fcb7cf73cc9f635022b5921591",s),(0,t.registerServerReference)("35ad2ffa06109e023244c800a2eb36688815b4bd",d),(0,t.registerServerReference)("01bbb94767495031ed36a27c15be927efd758312",i),(0,t.registerServerReference)("a8f3f78696c27685b43bee4a549621ecd64bf1a9",l),(0,t.registerServerReference)("d0ba8124b990a82ec6220e0f256bb7e3dd8a6adc",f),(0,t.registerServerReference)("33c957743bbaffdb936593717dc52afa98830904",b),(0,t.registerServerReference)("e5a2a6e1ea9ecff0ccfc4ca7d8db097247eace55",u),(0,t.registerServerReference)("da731b40f5c8af63b81bd7654883619b946669e6",p),(0,t.registerServerReference)("beb0b53a2aa66dd4f741860cd52c619a94d0deea",m),(0,t.registerServerReference)("348b6854454abe052e9d2623ded510facfd0c4cf",g),(0,t.registerServerReference)("4fda3851d68a1469d887b2c2f687463b2ad173a9",A),(0,t.registerServerReference)("83ece2c34d896fa1434396ed585b96543937121c",h),(0,t.registerServerReference)("89f6aef2263597030f222ea29938ded96852c439",y),(0,t.registerServerReference)("702adfd65ddbfc89a1e2ff008b9d7b699bdd69b0",P),(0,t.registerServerReference)("f0dab76ad8b978edafa57f40f0614f434c266667",N)}};